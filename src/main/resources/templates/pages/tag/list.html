<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="fragments/layout">
<head>
<title>SmartManager</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="author" content="Ramon Malaquias" />
</head>
<body>
	<section layout:fragment="page_content" id="page_content">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-close">
					<div class="dropdown">
						<button type="button" id="closeCard3" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false"
							class="dropdown-toggle">
							<i class="fa fa-ellipsis-v"></i>
						</button>
						<div aria-labelledby="closeCard3"
							class="dropdown-menu dropdown-menu-right has-shadow">
							<a href="#" class="dropdown-item remove"> <i
								class="fa fa-times"></i>Close
							</a><a href="#" class="dropdown-item edit"> <i class="fa fa-gear"></i>Edit
							</a>
						</div>
					</div>
				</div>
				<div class="card-header d-flex align-items-center">
					<h3 class="h4">Etiquetas</h3>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-striped table-hover">
							<thead>
								<tr>
									<th>Título</th>
									<th>Descrição</th>
									<th>Cor</th>
									<th>Opções</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="etiqueta, count : ${tags}">
									<td th:text="${etiqueta.title}">${etiqueta.title}</td>
									<td th:text="${etiqueta.description}">${etiqueta.description}</td>
									<td>
										<div th:id="'divTag' + ${count.count}">
											'
											<script th:inline="javascript">
												/*<![CDATA[*/
	
												var count = /*[[${count.count}]]*/;
												var color = /*[[${etiqueta.color}]]*/;
	
												/*]]>*/
												var idDiv = 'divTag' + count;

												function addColorBg() {
													var div = document.getElementById(idDiv);
													div.style.backgroundColor = color;
												}
												addColorBg();
											</script>
										</div>
									</td>
									<td>
										<a class="btn btn-sm btn-primary" th:href="@{'/tag/edit/' + ${etiqueta.idTag}}">Editar</a>
										<a class="btn btn-sm btn-danger" th:href="@{'/tag/delete/' + ${etiqueta.idTag}}">Excluir</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>